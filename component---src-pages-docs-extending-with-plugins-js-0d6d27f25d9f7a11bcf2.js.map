{"version":3,"sources":["webpack:///component---src-pages-docs-extending-with-plugins-js-0d6d27f25d9f7a11bcf2.js","webpack:///./~/hoist-non-react-statics/index.js","webpack:///./src/pages/docs/examples/plugins/example-config.ts","webpack:///./src/pages/docs/examples/plugins/example-usage.tsx","webpack:///./src/pages/docs/examples/plugins/writing.ts","webpack:///./src/pages/docs/extending-with-plugins.js"],"names":["webpackJsonp","./node_modules/hoist-non-react-statics/index.js","module","exports","REACT_STATICS","childContextTypes","contextTypes","defaultProps","displayName","getDefaultProps","mixins","propTypes","type","KNOWN_STATICS","name","length","prototype","caller","callee","arguments","arity","defineProperty","Object","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","keys","concat","i","key","descriptor","e","./node_modules/raw-loader/index.js!./src/pages/docs/examples/plugins/example-config.ts","./node_modules/raw-loader/index.js!./src/pages/docs/examples/plugins/example-usage.tsx","./node_modules/raw-loader/index.js!./src/pages/docs/examples/plugins/writing.ts","./node_modules/babel-loader/lib/index.js?{\"plugins\":[\"/home/travis/build/brightinteractive/bright-js-framework/docs-site/node_modules/gatsby/dist/utils/babel-plugin-extract-graphql.js\",\"/home/travis/build/brightinteractive/bright-js-framework/docs-site/node_modules/babel-plugin-add-module-exports/lib/index.js\",\"/home/travis/build/brightinteractive/bright-js-framework/docs-site/node_modules/babel-plugin-transform-object-assign/lib/index.js\"],\"presets\":[[\"/home/travis/build/brightinteractive/bright-js-framework/docs-site/node_modules/babel-preset-env/lib/index.js\",{\"loose\":true,\"uglify\":true,\"modules\":\"commonjs\",\"targets\":{\"browsers\":[\"> 1%\",\"last 2 versions\",\"IE >= 9\"]},\"exclude\":[\"transform-regenerator\",\"transform-es2015-typeof-symbol\"]}],\"/home/travis/build/brightinteractive/bright-js-framework/docs-site/node_modules/babel-preset-stage-0/lib/index.js\",\"/home/travis/build/brightinteractive/bright-js-framework/docs-site/node_modules/babel-preset-react/lib/index.js\"],\"cacheDirectory\":true}!./src/pages/docs/extending-with-plugins.js","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_interopRequireWildcard","newObj","hasOwnProperty","call","_react","React","_gatsbyLink","_gatsbyLink2","_Section","_Headers","_CodeBlock","createElement","PageHeader","Section","title","to","CodeFile","path"],"mappings":"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","file":"component---src-pages-docs-extending-with-plugins-js-0d6d27f25d9f7a11bcf2.js","sourcesContent":["webpackJsonp([77055595419222],{\n\n/***/ \"./node_modules/hoist-non-react-statics/index.js\":\n/***/ (function(module, exports) {\n\n\t/**\n\t * Copyright 2015, Yahoo! Inc.\n\t * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n\t */\n\t'use strict';\n\t\n\tvar REACT_STATICS = {\n\t    childContextTypes: true,\n\t    contextTypes: true,\n\t    defaultProps: true,\n\t    displayName: true,\n\t    getDefaultProps: true,\n\t    mixins: true,\n\t    propTypes: true,\n\t    type: true\n\t};\n\t\n\tvar KNOWN_STATICS = {\n\t  name: true,\n\t  length: true,\n\t  prototype: true,\n\t  caller: true,\n\t  callee: true,\n\t  arguments: true,\n\t  arity: true\n\t};\n\t\n\tvar defineProperty = Object.defineProperty;\n\tvar getOwnPropertyNames = Object.getOwnPropertyNames;\n\tvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\n\tvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\tvar getPrototypeOf = Object.getPrototypeOf;\n\tvar objectPrototype = getPrototypeOf && getPrototypeOf(Object);\n\t\n\tmodule.exports = function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n\t    if (typeof sourceComponent !== 'string') { // don't hoist over string (html) components\n\t\n\t        if (objectPrototype) {\n\t            var inheritedComponent = getPrototypeOf(sourceComponent);\n\t            if (inheritedComponent && inheritedComponent !== objectPrototype) {\n\t                hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n\t            }\n\t        }\n\t\n\t        var keys = getOwnPropertyNames(sourceComponent);\n\t\n\t        if (getOwnPropertySymbols) {\n\t            keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n\t        }\n\t\n\t        for (var i = 0; i < keys.length; ++i) {\n\t            var key = keys[i];\n\t            if (!REACT_STATICS[key] && !KNOWN_STATICS[key] && (!blacklist || !blacklist[key])) {\n\t                var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\t                try { // Avoid failures from read-only properties\n\t                    defineProperty(targetComponent, key, descriptor);\n\t                } catch (e) {}\n\t            }\n\t        }\n\t\n\t        return targetComponent;\n\t    }\n\t\n\t    return targetComponent;\n\t};\n\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/index.js!./src/pages/docs/examples/plugins/example-config.ts\":\n/***/ (function(module, exports) {\n\n\tmodule.exports = \"import EventManagerPlugin from './plugins/EventManager'\\n\\nexport default [\\n  EventManagerPlugin\\n]\\n\"\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/index.js!./src/pages/docs/examples/plugins/example-usage.tsx\":\n/***/ (function(module, exports) {\n\n\tmodule.exports = \"import * as React from 'react'\\nimport { controller } from '@brightinteractive/bright-js-framework'\\nimport { eventManager, EventManager } from '../plugins/EventManager'\\nimport { Button } from './widgets'\\n\\n@controller()\\nexport class ControlPanel extends React.PureComponent {\\n  @eventManager\\n  eventManager: EventManager\\n\\n  handleOpenClick = () => {\\n    this.eventManager.emit('request-open-pod-bay-doors')\\n  }\\n\\n  componentDidMount() {\\n    this.eventManager.registerHandler('request-open-pod-bay-doors', () => {\\n      console.error('I’m sorry but I can’t do that, Dave')\\n    })\\n  }\\n\\n  render() {\\n    return (\\n      <div>\\n        <h3>Pod Bay doors:</h3>\\n        <Button onClick={this.handleOpenClick}>Open</Button>\\n      </div>\\n    )\\n  }\\n}\\n\"\n\n/***/ }),\n\n/***/ \"./node_modules/raw-loader/index.js!./src/pages/docs/examples/plugins/writing.ts\":\n/***/ (function(module, exports) {\n\n\tmodule.exports = \"import {exported, inject, PluginConfig} from '@brightinteractive/bright-js-framework'\\n\\nconst EVENT_MANAGER = 'eventManager'\\n\\nexport const eventManager = inject(EVENT_MANAGER)\\n\\nexport default class EventManagerPlugin extends PluginConfig {\\n  @exported(EVENT_MANAGER)\\n  eventManager = new EventManager()\\n}\\n\\nexport type EventHandler = (event: any) => void\\n\\nexport class EventManager {\\n  private eventHandlers: Map<string, Set<EventHandler>> = new Map()\\n\\n  registerHandler(eventKey: string, eventHandler: EventHandler) {\\n    const existingHandlers = this.eventHandlers.get(eventKey) || new Set()\\n    this.eventHandlers.set(eventKey, existingHandlers.add(eventHandler))\\n  }\\n\\n  emit(eventKey: string, event?: any) {\\n    const handlers = this.eventHandlers.get(eventKey)\\n    if (!handlers) {\\n      return\\n    }\\n\\n    handlers.forEach((eventHandler) => eventHandler(event))\\n  }\\n}\\n\"\n\n/***/ }),\n\n/***/ \"./node_modules/babel-loader/lib/index.js?{\\\"plugins\\\":[\\\"/home/travis/build/brightinteractive/bright-js-framework/docs-site/node_modules/gatsby/dist/utils/babel-plugin-extract-graphql.js\\\",\\\"/home/travis/build/brightinteractive/bright-js-framework/docs-site/node_modules/babel-plugin-add-module-exports/lib/index.js\\\",\\\"/home/travis/build/brightinteractive/bright-js-framework/docs-site/node_modules/babel-plugin-transform-object-assign/lib/index.js\\\"],\\\"presets\\\":[[\\\"/home/travis/build/brightinteractive/bright-js-framework/docs-site/node_modules/babel-preset-env/lib/index.js\\\",{\\\"loose\\\":true,\\\"uglify\\\":true,\\\"modules\\\":\\\"commonjs\\\",\\\"targets\\\":{\\\"browsers\\\":[\\\"> 1%\\\",\\\"last 2 versions\\\",\\\"IE >= 9\\\"]},\\\"exclude\\\":[\\\"transform-regenerator\\\",\\\"transform-es2015-typeof-symbol\\\"]}],\\\"/home/travis/build/brightinteractive/bright-js-framework/docs-site/node_modules/babel-preset-stage-0/lib/index.js\\\",\\\"/home/travis/build/brightinteractive/bright-js-framework/docs-site/node_modules/babel-preset-react/lib/index.js\\\"],\\\"cacheDirectory\\\":true}!./src/pages/docs/extending-with-plugins.js\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(\"./node_modules/react/react.js\");\n\t\n\tvar React = _interopRequireWildcard(_react);\n\t\n\tvar _gatsbyLink = __webpack_require__(\"./node_modules/gatsby-link/index.js\");\n\t\n\tvar _gatsbyLink2 = _interopRequireDefault(_gatsbyLink);\n\t\n\tvar _Section = __webpack_require__(\"./src/components/Section.js\");\n\t\n\tvar _Headers = __webpack_require__(\"./src/components/Headers.js\");\n\t\n\tvar _CodeBlock = __webpack_require__(\"./src/components/CodeBlock.js\");\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\texports.default = function () {\n\t  return React.createElement(\n\t    'div',\n\t    null,\n\t    React.createElement(\n\t      _Headers.PageHeader,\n\t      null,\n\t      'Using Plugins'\n\t    ),\n\t    React.createElement(\n\t      _Section.Section,\n\t      { title: 'Introduction' },\n\t      React.createElement(\n\t        'p',\n\t        null,\n\t        'Previously, we looked at ',\n\t        React.createElement(\n\t          _gatsbyLink2.default,\n\t          { to: '/services-and-controllers' },\n\t          'services'\n\t        ),\n\t        ', which allow behaviours to be extracted out of controller components and shared.'\n\t      ),\n\t      React.createElement(\n\t        'p',\n\t        null,\n\t        'Sometimes, we want to attach behavior to the ',\n\t        React.createElement(\n\t          'em',\n\t          null,\n\t          'whole application'\n\t        ),\n\t        '. Plugins provide a way of doing this. Some uses of Plugins are:'\n\t      ),\n\t      React.createElement(\n\t        'ul',\n\t        null,\n\t        React.createElement(\n\t          'li',\n\t          null,\n\t          'When integrating an authentication provider, we might need to retreive and validate an auth token when the application loads for the first time, before we decide what page to render.'\n\t        ),\n\t        React.createElement(\n\t          'li',\n\t          null,\n\t          'When integrating a data store such as Redux, we would need to keep a single store instance at the root of applications and allow our services and controllers access to the store.'\n\t        ),\n\t        React.createElement(\n\t          'li',\n\t          null,\n\t          'When writing a controller that interfaces with DOM APIs, we may want to use that controller in environments where the DOM does not exist. For example, a controller that reads or writes to cookies that we wish to use in a server-side-rendered application would need an abstract interface to access cookies, looking in the HTTP request in a server app, or a DOM API in the browser. It might also need a stub implementation when running in a test environment.'\n\t        ),\n\t        React.createElement(\n\t          'li',\n\t          null,\n\t          'When writing a GraphQL API for an application, we might want to add a GraphQL endpoint to our application server (assuming that we aren\\u2019t using an external GraphQL API).'\n\t        )\n\t      ),\n\t      React.createElement(\n\t        'p',\n\t        null,\n\t        'Plugins provide a simple way of achieving these tasks.'\n\t      )\n\t    ),\n\t    React.createElement(\n\t      _Section.Section,\n\t      { title: 'Using Plugins' },\n\t      React.createElement(\n\t        'p',\n\t        null,\n\t        'Plugins are configured in a special file at the root of your application\\'s source, ',\n\t        React.createElement(\n\t          'code',\n\t          null,\n\t          'src/config.ts'\n\t        ),\n\t        '. Let\\u2019s look at a hypothetical plugin called ',\n\t        React.createElement(\n\t          'code',\n\t          null,\n\t          'EventManager'\n\t        ),\n\t        ' that allows components to post and subscribe to events. We would install the plugin by adding it to the default export of our config file.'\n\t      ),\n\t      React.createElement(\n\t        _CodeBlock.CodeFile,\n\t        { path: 'src/config.ts' },\n\t        __webpack_require__(\"./node_modules/raw-loader/index.js!./src/pages/docs/examples/plugins/example-config.ts\")\n\t      ),\n\t      React.createElement(\n\t        'p',\n\t        null,\n\t        'Plugins that allow dependencies to be injected into components will typically provide a decorator to inject the dependency and an interface for the dependency. A controller that uses our hypothetical event managert to dispatch events would use it as follows:'\n\t      ),\n\t      React.createElement(\n\t        _CodeBlock.CodeFile,\n\t        { path: 'components/config.ts' },\n\t        __webpack_require__(\"./node_modules/raw-loader/index.js!./src/pages/docs/examples/plugins/example-usage.tsx\")\n\t      ),\n\t      React.createElement(\n\t        'p',\n\t        null,\n\t        'Objects injected by plugins are shared between the whole application. This differes from services, which are unique to each controller.'\n\t      )\n\t    ),\n\t    React.createElement(\n\t      _Section.Section,\n\t      { title: 'Writing Plugins' },\n\t      React.createElement(\n\t        'p',\n\t        null,\n\t        'Writing a plugin entails creating a plugin configuration to export the dependencies the plugin provides. This is done by extending the ',\n\t        React.createElement(\n\t          'code',\n\t          null,\n\t          'PluginConfig'\n\t        ),\n\t        ' class, and utilising the',\n\t        React.createElement(\n\t          'code',\n\t          null,\n\t          '@exportDependency'\n\t        ),\n\t        ' decorator.'\n\t      ),\n\t      React.createElement(\n\t        _CodeBlock.CodeFile,\n\t        { path: './src/plugins/EventManager.ts' },\n\t        __webpack_require__(\"./node_modules/raw-loader/index.js!./src/pages/docs/examples/plugins/writing.ts\")\n\t      ),\n\t      React.createElement(\n\t        'p',\n\t        null,\n\t        'In this code block we have created an extremely simple event manager plugin. The event manager itself is just an object; what\\'s special here is the use of the ',\n\t        React.createElement(\n\t          'code',\n\t          null,\n\t          '@exportDependency'\n\t        ),\n\t        ' decorator to allow the ',\n\t        React.createElement(\n\t          'code',\n\t          null,\n\t          'EventManager'\n\t        ),\n\t        ' to be injected into controllers and services.'\n\t      ),\n\t      React.createElement(\n\t        'p',\n\t        null,\n\t        'The ',\n\t        React.createElement(\n\t          'code',\n\t          null,\n\t          '@exportDependency'\n\t        ),\n\t        ' decorator takes one parameter: a string key. This registers the value of the decorated property as an available dependency with the given key. Any controllers or services can request this dependency by providing the same key to the ',\n\t        React.createElement(\n\t          'code',\n\t          null,\n\t          '@inject'\n\t        ),\n\t        ' decorator.'\n\t      ),\n\t      React.createElement(\n\t        'p',\n\t        null,\n\t        'To abstract the details of the key away from the users of our plugin, we\\'ve exported a decorator named',\n\t        React.createElement(\n\t          'code',\n\t          null,\n\t          '@eventManager'\n\t        ),\n\t        '. In this case, this is simply ',\n\t        React.createElement(\n\t          'code',\n\t          null,\n\t          '@inject'\n\t        ),\n\t        ' with a prefilled key. This does, however, give us (the plugin authors) the freedom to change how the clients of the plugin receive the EventManager. In the future, we may wish to do more than just a simple inject; we may also wish to utilise ',\n\t        React.createElement(\n\t          'code',\n\t          null,\n\t          '@service'\n\t        ),\n\t        ' capabilities, for example.'\n\t      )\n\t    )\n\t  );\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// component---src-pages-docs-extending-with-plugins-js-0d6d27f25d9f7a11bcf2.js","/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n'use strict';\n\nvar REACT_STATICS = {\n    childContextTypes: true,\n    contextTypes: true,\n    defaultProps: true,\n    displayName: true,\n    getDefaultProps: true,\n    mixins: true,\n    propTypes: true,\n    type: true\n};\n\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = getPrototypeOf && getPrototypeOf(Object);\n\nmodule.exports = function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n    if (typeof sourceComponent !== 'string') { // don't hoist over string (html) components\n\n        if (objectPrototype) {\n            var inheritedComponent = getPrototypeOf(sourceComponent);\n            if (inheritedComponent && inheritedComponent !== objectPrototype) {\n                hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n            }\n        }\n\n        var keys = getOwnPropertyNames(sourceComponent);\n\n        if (getOwnPropertySymbols) {\n            keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n        }\n\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!REACT_STATICS[key] && !KNOWN_STATICS[key] && (!blacklist || !blacklist[key])) {\n                var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n                try { // Avoid failures from read-only properties\n                    defineProperty(targetComponent, key, descriptor);\n                } catch (e) {}\n            }\n        }\n\n        return targetComponent;\n    }\n\n    return targetComponent;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/hoist-non-react-statics/index.js\n// module id = ./node_modules/hoist-non-react-statics/index.js\n// module chunks = 77055595419222 111452187274167 231608221292675","module.exports = \"import EventManagerPlugin from './plugins/EventManager'\\n\\nexport default [\\n  EventManagerPlugin\\n]\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./src/pages/docs/examples/plugins/example-config.ts\n// module id = ./node_modules/raw-loader/index.js!./src/pages/docs/examples/plugins/example-config.ts\n// module chunks = 77055595419222","module.exports = \"import * as React from 'react'\\nimport { controller } from '@brightinteractive/bright-js-framework'\\nimport { eventManager, EventManager } from '../plugins/EventManager'\\nimport { Button } from './widgets'\\n\\n@controller()\\nexport class ControlPanel extends React.PureComponent {\\n  @eventManager\\n  eventManager: EventManager\\n\\n  handleOpenClick = () => {\\n    this.eventManager.emit('request-open-pod-bay-doors')\\n  }\\n\\n  componentDidMount() {\\n    this.eventManager.registerHandler('request-open-pod-bay-doors', () => {\\n      console.error('I’m sorry but I can’t do that, Dave')\\n    })\\n  }\\n\\n  render() {\\n    return (\\n      <div>\\n        <h3>Pod Bay doors:</h3>\\n        <Button onClick={this.handleOpenClick}>Open</Button>\\n      </div>\\n    )\\n  }\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./src/pages/docs/examples/plugins/example-usage.tsx\n// module id = ./node_modules/raw-loader/index.js!./src/pages/docs/examples/plugins/example-usage.tsx\n// module chunks = 77055595419222","module.exports = \"import {exported, inject, PluginConfig} from '@brightinteractive/bright-js-framework'\\n\\nconst EVENT_MANAGER = 'eventManager'\\n\\nexport const eventManager = inject(EVENT_MANAGER)\\n\\nexport default class EventManagerPlugin extends PluginConfig {\\n  @exported(EVENT_MANAGER)\\n  eventManager = new EventManager()\\n}\\n\\nexport type EventHandler = (event: any) => void\\n\\nexport class EventManager {\\n  private eventHandlers: Map<string, Set<EventHandler>> = new Map()\\n\\n  registerHandler(eventKey: string, eventHandler: EventHandler) {\\n    const existingHandlers = this.eventHandlers.get(eventKey) || new Set()\\n    this.eventHandlers.set(eventKey, existingHandlers.add(eventHandler))\\n  }\\n\\n  emit(eventKey: string, event?: any) {\\n    const handlers = this.eventHandlers.get(eventKey)\\n    if (!handlers) {\\n      return\\n    }\\n\\n    handlers.forEach((eventHandler) => eventHandler(event))\\n  }\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./src/pages/docs/examples/plugins/writing.ts\n// module id = ./node_modules/raw-loader/index.js!./src/pages/docs/examples/plugins/writing.ts\n// module chunks = 77055595419222","import * as React from 'react'\nimport Link from 'gatsby-link'\nimport {Section} from '../../components/Section'\nimport {PageHeader} from '../../components/Headers'\nimport {CodeFile} from '../../components/CodeBlock'\n\nexport default () => {\n  return (\n    <div>\n      <PageHeader>Using Plugins</PageHeader>\n      <Section title=\"Introduction\">\n        <p>\n          Previously, we looked at <Link to=\"/services-and-controllers\">services</Link>, which allow behaviours to be extracted out of controller components and shared.\n        </p>\n        <p>\n          Sometimes, we want to attach behavior to the <em>whole application</em>. Plugins provide a way of doing this. Some uses of Plugins are:\n        </p>\n        <ul>\n          <li>\n            When integrating an authentication provider, we might need to retreive and validate an auth token when the application loads for the first time, before we decide what page to render.\n          </li>\n          <li>\n            When integrating a data store such as Redux, we would need to keep a single store instance at the root of applications and allow our services and controllers access to the store.\n          </li>\n          <li>\n            When writing a controller that interfaces with DOM APIs, we may want to use that controller in environments where the DOM does not exist. For example, a controller that reads or writes to cookies that we wish to use in a server-side-rendered application would need an abstract interface to access cookies, looking in the HTTP request in a server app, or a DOM API in the browser. It might also need a stub implementation when running in a test environment.\n          </li>\n          <li>\n            When writing a GraphQL API for an application, we might want to add a GraphQL endpoint to our application server (assuming that we aren’t using an external GraphQL API).\n          </li>\n        </ul>\n        <p>\n          Plugins provide a simple way of achieving these tasks.\n        </p>\n      </Section>\n      <Section title=\"Using Plugins\">\n        <p>\n          Plugins are configured in a special file at the root of your application's source, <code>src/config.ts</code>. Let’s look at a hypothetical plugin called <code>EventManager</code> that allows components to post and subscribe to events. We would install the plugin by adding it to the default export of our config file.\n        </p>\n        <CodeFile path=\"src/config.ts\">\n          {require('raw!./examples/plugins/example-config.ts')}\n        </CodeFile>\n        <p>\n          Plugins that allow dependencies to be injected into components will typically provide a decorator to inject the dependency and an interface for the dependency. A controller that uses our hypothetical event managert to dispatch events would use it as follows:\n        </p>\n        <CodeFile path=\"components/config.ts\">\n          {require('raw!./examples/plugins/example-usage.tsx')}\n        </CodeFile>\n        <p>\n          Objects injected by plugins are shared between the whole application.\n          This differes from services, which are unique to each controller.\n        </p>\n      </Section>\n      <Section title=\"Writing Plugins\">\n          <p>\n              Writing a plugin entails creating a plugin configuration to export the dependencies the plugin provides.\n              This is done by extending the <code>PluginConfig</code> class, and utilising the\n              <code>@exportDependency</code> decorator.\n          </p>\n          <CodeFile path=\"./src/plugins/EventManager.ts\">\n              {require('raw!./examples/plugins/writing.ts')}\n          </CodeFile>\n          <p>\n              In this code block we have created an extremely simple event manager plugin. The event manager itself is\n              just an object; what's special here is the use of the <code>@exportDependency</code> decorator to allow\n              the <code>EventManager</code> to be injected into controllers and services.\n          </p>\n          <p>\n              The <code>@exportDependency</code> decorator takes one parameter: a string key. This registers the value\n              of the decorated property as an available dependency with the given key. Any controllers or services can\n              request this dependency by providing the same key to the <code>@inject</code> decorator.\n          </p>\n          <p>\n              To abstract the details of the key away from the users of our plugin, we've exported a decorator named\n              <code>@eventManager</code>. In this case, this is simply <code>@inject</code> with a prefilled key. This\n              does, however, give us (the plugin authors) the freedom to change how the clients of the plugin receive\n              the EventManager. In the future, we may wish to do more than just a simple inject; we may also wish to\n              utilise <code>@service</code> capabilities, for example.\n          </p>\n      </Section>\n    </div>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/docs/extending-with-plugins.js"],"sourceRoot":""}